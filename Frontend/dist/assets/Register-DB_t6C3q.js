import{r as l,a0 as h,A as w,j as e,C as a,Y as b,L as y,b as j}from"./index-3_z3CT1Q.js";import{R as C,L as m}from"./react-confetti-DdT8qXWu.js";import{L as v}from"./leaf-CCg0J-Ud.js";import{M as N}from"./mail-BZSy2IOE.js";import{L as F}from"./loader-circle-BqqjAk9M.js";const R=()=>{const[t,n]=l.useState({username:"",email:"",password:"",confirmPassword:""}),[d,i]=l.useState(""),[c,u]=l.useState(!1),[p,f]=l.useState(!1),x=h(),s=w(r=>r.setAlert),g=async r=>{if(r.preventDefault(),!t.username||!t.email||!t.password||!t.confirmPassword){i("All fields are required."),s({title:"Registration Failed",message:"All fields are required.",type:"error"});return}if(t.password!==t.confirmPassword){i("Passwords do not match."),s({title:"Registration Failed",message:"Passwords do not match.",type:"error"});return}u(!0),i("");try{const o=await j.post("http://localhost:8000/user/register",{username:t.username,email:t.email,password:t.password},{withCredentials:!0});console.log(o.data),o.data.statusCode==200?(s({title:"Registration Successful",message:o.data.message,type:"success"}),f(!0),setTimeout(()=>{x("/login")},3e3)):s({title:"Registration Failed",message:o.data.message,type:"error"})}catch{i("Failed to register. Please try again."),s({title:"Registration Failed",message:"Failed to register. Please try again.",type:"error"})}finally{u(!1)}};return e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#F0F7F4] to-[#E8F5E9] p-4",children:[p&&e.jsx(C,{}),e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-green-100",children:[e.jsxs(a.div,{className:"text-center",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:[e.jsx(a.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(v,{className:"mx-auto h-12 w-12 text-[#8FBC8F]"})}),e.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-[#2C5530] font-montserrat",children:"Join Our Community"}),e.jsx("p",{className:"mt-2 text-sm text-[#4A6D4A] font-inter",children:"Start your eco-friendly journey today"})]}),e.jsxs(a.form,{className:"mt-8 space-y-6",onSubmit:g,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-3.5 h-5 w-5 text-[#8FBC8F]"}),e.jsx("input",{autoComplete:"username",type:"text",placeholder:"Username",value:t.username,onChange:r=>n({...t,username:r.target.value}),className:`block w-full pl-12 pr-4 py-3 bg-green-50/50 border border-green-100 rounded-xl\r
                         focus:ring-2 focus:ring-[#9DC88D] focus:border-transparent transition-all duration-300\r
                         placeholder-[#4A6D4A]/50 font-inter`,required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3.5 h-5 w-5 text-[#8FBC8F]"}),e.jsx("input",{type:"email",autoComplete:"email",placeholder:"Email address",value:t.email,onChange:r=>n({...t,email:r.target.value}),className:`block w-full pl-12 pr-4 py-3 bg-green-50/50 border border-green-100 rounded-xl\r
                         focus:ring-2 focus:ring-[#9DC88D] focus:border-transparent transition-all duration-300\r
                         placeholder-[#4A6D4A]/50 font-inter`,required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3.5 h-5 w-5 text-[#8FBC8F]"}),e.jsx("input",{autoComplete:"new-password",type:"password",placeholder:"Password",value:t.password,onChange:r=>n({...t,password:r.target.value}),className:`block w-full pl-12 pr-4 py-3 bg-green-50/50 border border-green-100 rounded-xl\r
                         focus:ring-2 focus:ring-[#9DC88D] focus:border-transparent transition-all duration-300\r
                         placeholder-[#4A6D4A]/50 font-inter`,required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3.5 h-5 w-5 text-[#8FBC8F]"}),e.jsx("input",{autoComplete:"new-password",type:"password",placeholder:"Confirm password",value:t.confirmPassword,onChange:r=>n({...t,confirmPassword:r.target.value}),className:`block w-full pl-12 pr-4 py-3 bg-green-50/50 border border-green-100 rounded-xl\r
                         focus:ring-2 focus:ring-[#9DC88D] focus:border-transparent transition-all duration-300\r
                         placeholder-[#4A6D4A]/50 font-inter`,required:!0})]})]}),d&&e.jsx("p",{className:"text-red-500 text-sm text-center font-inter",children:d}),e.jsx(a.button,{type:"submit",disabled:c,whileHover:{scale:1.01},whileTap:{scale:.99},className:`w-full flex items-center justify-center py-3 px-4 border border-transparent\r
                     rounded-xl text-white bg-[#8FBC8F] hover:bg-[#228B22] focus:outline-none\r
                     focus:ring-2 focus:ring-offset-2 focus:ring-[#9DC88D] transition-all\r
                     duration-300 font-poppins disabled:opacity-50 disabled:cursor-not-allowed`,children:c?e.jsx(F,{className:"animate-spin h-5 w-5"}):"Create Account"}),e.jsx("div",{className:"text-center",children:e.jsx(y,{to:"/login",className:`font-inter text-sm text-[#4A6D4A] hover:text-[#228B22]\r
                       transition-colors duration-300`,children:"Already have an account? Sign in"})})]})]})]})};export{R as default};
