import{d as ve,i as be,f as S,e as _,g as ie,p as we,v as je,h as Ee,k as Ne,l as Te,n as oe,m as Se,s as Le,o as P,q as ae,r as w,w as Oe,t as T,M as Ce,x as $,y as C,z as Ie,A as ke,a as We,j as i,C as m,S as $e,L as H,D as He,b as F}from"./index-3_z3CT1Q.js";import{E as ze}from"./EventCard-B3m37zqt.js";import"./share-2-CtywzFKk.js";const I=new WeakMap;let v;const le=(e,t,s)=>(n,r)=>r&&r[0]?r[0][e+"Size"]:be(n)&&"getBBox"in n?n.getBBox()[t]:n[s],Ae=le("inline","width","offsetWidth"),Me=le("block","height","offsetHeight");function _e({target:e,borderBoxSize:t}){var s;(s=I.get(e))==null||s.forEach(n=>{n(e,{get width(){return Ae(e,t)},get height(){return Me(e,t)}})})}function Pe(e){e.forEach(_e)}function Ve(){typeof ResizeObserver>"u"||(v=new ResizeObserver(Pe))}function Be(e,t){v||Ve();const s=ve(e);return s.forEach(n=>{let r=I.get(n);r||(r=new Set,I.set(n,r)),r.add(t),v==null||v.observe(n)}),()=>{s.forEach(n=>{const r=I.get(n);r==null||r.delete(t),r!=null&&r.size||v==null||v.unobserve(n)})}}const k=new Set;let b;function Re(){b=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};k.forEach(t=>t(e))},window.addEventListener("resize",b)}function Fe(e){return k.add(e),b||Re(),()=>{k.delete(e),!k.size&&typeof b=="function"&&(window.removeEventListener("resize",b),b=void 0)}}function De(e,t){return typeof e=="function"?Fe(e):Be(e,t)}function ce(e,t){let s;const n=()=>{const{currentTime:r}=t,a=(r===null?0:r.value)/100;s!==a&&e(a),s=a};return S.preUpdate(n,!0),()=>_(n)}function Ge(...e){const t=!Array.isArray(e[0]),s=t?0:-1,n=e[0+s],r=e[1+s],o=e[2+s],a=e[3+s],l=ie(r,o,a);return t?l(n):l}const Ue=50,D=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Xe=()=>({time:0,x:D(),y:D()}),Je={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function G(e,t,s,n){const r=s[t],{length:o,position:a}=Je[t],l=r.current,u=s.time;r.current=e[`scroll${a}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=we(0,r.scrollLength,r.current);const d=n-u;r.velocity=d>Ue?0:je(r.current-l,d)}function Ye(e,t,s){G(e,"x",t,s),G(e,"y",t,s),t.time=s}function qe(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(Ee(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();s.x+=r.left-o.left,s.y+=r.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:o}=n.getBBox();s.x+=r,s.y+=o;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return s}const M={start:0,center:.5,end:1};function U(e,t,s=0){let n=0;if(e in M&&(e=M[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const Ke=[0,0];function Qe(e,t,s,n){let r=Array.isArray(e)?e:Ke,o=0,a=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,M[e]?e:"0"]),o=U(r[0],s,n),a=U(r[1],t),o-a}const Ze={All:[[0,0],[1,1]]},et={x:0,y:0};function tt(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function nt(e,t,s){const{offset:n=Ze.All}=s,{target:r=e,axis:o="y"}=s,a=o==="y"?"height":"width",l=r!==e?qe(r,e):et,u=r===e?{width:e.scrollWidth,height:e.scrollHeight}:tt(r),d={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let p=!t[o].interpolate;const g=n.length;for(let h=0;h<g;h++){const x=Qe(n[h],d[a],u[a],l[o]);!p&&x!==t[o].interpolatorOffsets[h]&&(p=!0),t[o].offset[h]=x}p&&(t[o].interpolate=ie(t[o].offset,Ne(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Te(0,1,t[o].interpolate(t[o].current))}function st(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function rt(e,t,s,n={}){return{measure:r=>{st(e,n.target,s),Ye(e,s,r),(n.offset||n.target)&&nt(e,s,n)},notify:()=>t(s)}}const E=new WeakMap,X=new WeakMap,z=new WeakMap,J=e=>e===document.scrollingElement?window:e;function ue(e,{container:t=document.scrollingElement,...s}={}){if(!t)return oe;let n=z.get(t);n||(n=new Set,z.set(t,n));const r=Xe(),o=rt(t,e,r,s);if(n.add(o),!E.has(t)){const l=()=>{for(const g of n)g.measure(Se.timestamp);S.preUpdate(u)},u=()=>{for(const g of n)g.notify()},d=()=>S.read(l);E.set(t,d);const p=J(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&X.set(t,De(t,d)),p.addEventListener("scroll",d,{passive:!0}),d()}const a=E.get(t);return S.read(a,!1,!0),()=>{var d;_(a);const l=z.get(t);if(!l||(l.delete(o),l.size))return;const u=E.get(t);E.delete(t),u&&(J(t).removeEventListener("scroll",u),(d=X.get(t))==null||d(),window.removeEventListener("resize",u))}}const Y=new Map;function it(e){const t={value:0},s=ue(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function de({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=Y.get(t)??new Map;Y.set(t,r);const o=s.target??"self",a=r.get(o)??{},l=n+(s.offset??[]).join(",");return a[l]||(a[l]=!s.target&&Le()?new ScrollTimeline({source:t,axis:n}):it({container:t,...s})),a[l]}function ot(e,t){const s=de(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),ce(r=>{n.time=n.duration*r},s))})}function at(e){return e.length===2}function lt(e,t){return at(e)?ue(s=>{e(s[t.axis].progress,s)},t):ce(e,de(t))}function ct(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return oe;const r={axis:t,container:s,...n};return typeof e=="function"?lt(e,r):ot(e,r)}function q(e,t){Oe(!!(!t||t.current))}const ut=()=>({scrollX:T(0),scrollY:T(0),scrollXProgress:T(0),scrollYProgress:T(0)});function dt({container:e,target:t,layoutEffect:s=!0,...n}={}){const r=P(ut);return(s?ae:w.useEffect)(()=>(q("target",t),q("container",e),ct((a,{x:l,y:u})=>{r.scrollX.set(l.current),r.scrollXProgress.set(l.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),r}function ft(e){const t=P(()=>T(e)),{isStatic:s}=w.useContext(Ce);if(s){const[,n]=w.useState(e);w.useEffect(()=>t.on("change",n),[])}return t}function fe(e,t){const s=ft(t()),n=()=>s.set(t());return n(),ae(()=>{const r=()=>S.preRender(n,!1,!0),o=e.map(a=>a.on("change",r));return()=>{o.forEach(a=>a()),_(n)}}),s}function gt(e){$.current=[],e();const t=fe($.current,e);return $.current=void 0,t}function K(e,t,s,n){if(typeof e=="function")return gt(e);const r=typeof t=="function"?t:Ge(t,s,n);return Array.isArray(e)?Q(e,r):Q([e],([o])=>r(o))}function Q(e,t){const s=P(()=>[]);return fe(e,()=>{s.length=0;const n=e.length;for(let r=0;r<n;r++)s[r]=e[r].get();return t(s)})}function mt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ge=mt,ht=typeof C=="object"&&C&&C.Object===Object&&C,pt=ht,xt=pt,yt=typeof self=="object"&&self&&self.Object===Object&&self,vt=xt||yt||Function("return this")(),me=vt,bt=me,wt=function(){return bt.Date.now()},jt=wt,Et=/\s/;function Nt(e){for(var t=e.length;t--&&Et.test(e.charAt(t)););return t}var Tt=Nt,St=Tt,Lt=/^\s+/;function Ot(e){return e&&e.slice(0,St(e)+1).replace(Lt,"")}var Ct=Ot,It=me,kt=It.Symbol,he=kt,Z=he,pe=Object.prototype,Wt=pe.hasOwnProperty,$t=pe.toString,N=Z?Z.toStringTag:void 0;function Ht(e){var t=Wt.call(e,N),s=e[N];try{e[N]=void 0;var n=!0}catch{}var r=$t.call(e);return n&&(t?e[N]=s:delete e[N]),r}var zt=Ht,At=Object.prototype,Mt=At.toString;function _t(e){return Mt.call(e)}var Pt=_t,ee=he,Vt=zt,Bt=Pt,Rt="[object Null]",Ft="[object Undefined]",te=ee?ee.toStringTag:void 0;function Dt(e){return e==null?e===void 0?Ft:Rt:te&&te in Object(e)?Vt(e):Bt(e)}var Gt=Dt;function Ut(e){return e!=null&&typeof e=="object"}var Xt=Ut,Jt=Gt,Yt=Xt,qt="[object Symbol]";function Kt(e){return typeof e=="symbol"||Yt(e)&&Jt(e)==qt}var Qt=Kt,Zt=Ct,ne=ge,en=Qt,se=NaN,tn=/^[-+]0x[0-9a-f]+$/i,nn=/^0b[01]+$/i,sn=/^0o[0-7]+$/i,rn=parseInt;function on(e){if(typeof e=="number")return e;if(en(e))return se;if(ne(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ne(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Zt(e);var s=nn.test(e);return s||sn.test(e)?rn(e.slice(2),s?2:8):tn.test(e)?se:+e}var an=on,ln=ge,A=jt,re=an,cn="Expected a function",un=Math.max,dn=Math.min;function fn(e,t,s){var n,r,o,a,l,u,d=0,p=!1,g=!1,h=!0;if(typeof e!="function")throw new TypeError(cn);t=re(t)||0,ln(s)&&(p=!!s.leading,g="maxWait"in s,o=g?un(re(s.maxWait)||0,t):o,h="trailing"in s?!!s.trailing:h);function x(f){var y=n,j=r;return n=r=void 0,d=f,a=e.apply(j,y),a}function c(f){return d=f,l=setTimeout(O,t),p?x(f):a}function L(f){var y=f-u,j=f-d,R=t-y;return g?dn(R,o-j):R}function V(f){var y=f-u,j=f-d;return u===void 0||y>=t||y<0||g&&j>=o}function O(){var f=A();if(V(f))return B(f);l=setTimeout(O,L(f))}function B(f){return l=void 0,h&&n?x(f):(n=r=void 0,a)}function xe(){l!==void 0&&clearTimeout(l),d=0,n=u=r=l=void 0}function ye(){return l===void 0?a:B(A())}function W(){var f=A(),y=V(f);if(n=arguments,r=this,u=f,y){if(l===void 0)return c(u);if(g)return clearTimeout(l),l=setTimeout(O,t),x(u)}return l===void 0&&(l=setTimeout(O,t)),a}return W.cancel=xe,W.flush=ye,W}var gn=fn;const mn=Ie(gn),yn=()=>{const{scrollYProgress:e}=dt(),t=K(e,[0,1],[1,0]),s=K(e,[0,1],[1,.8]),[n,r]=w.useState(""),o=ke(c=>c.setAlert),a=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),l=async()=>{const c=await F.get("http://localhost:8000/event/home");return console.log(c.data),c.data},{data:u,isError:d,isLoading:p,error:g}=We({queryKey:["HomeEvents"],queryFn:l,staleTime:10*60*1e3,onSuccess:c=>{console.log("Fetched Home Events:",c)}}),h=async()=>{if(!a(n)){o({type:"error",message:"Invalid email address."});return}console.log(n);try{const c=await F.post("http://localhost:8000/event/subscribe",{email:n});console.log(c.data),c.data.statusCode===200?(o({type:"success",message:c.data.message}),r("")):c.data.statusCode===400&&o({type:"error",message:c.data.message})}catch(c){console.log(c),o({type:"error",message:"Error in subscribing"})}},x=w.useCallback(mn(()=>{h()},5e3,{leading:!0,trailing:!1}),[n]);return i.jsxs(i.Fragment,{children:[i.jsxs(m.div,{className:"min-h-screen bg-cover bg-center relative",style:{backgroundImage:"url('./bg.avif')",opacity:t,scale:s},children:[i.jsx("div",{className:"absolute inset-0 bg-black/40"}),i.jsx("div",{className:"relative z-10 pt-16",children:i.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-12 md:mt-20 relative z-0",children:[i.jsxs(m.div,{className:"mb-12 text-center",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[i.jsx("h2",{className:"text-5xl font-bold text-white mb-6 drop-shadow-lg",children:"Join the Clean Community Movement"}),i.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto drop-shadow",children:"Connect with local volunteers and make a difference in your community through organized cleanup events."}),i.jsxs(m.div,{className:"flex justify-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[i.jsx(m.button,{className:"bg-green-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Join Now"}),i.jsx(m.button,{className:"bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-medium hover:bg-white/20 transition-colors shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Learn More"})]})]}),i.jsx(m.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx("input",{type:"text",placeholder:"Search for events...",className:"w-full p-3 pl-10 rounded-full border-0 bg-white/10 backdrop-blur-sm text-white placeholder-white/70 focus:ring-2 focus:ring-green-500"}),i.jsx($e,{className:"absolute left-3 top-3 text-white/70",size:20})]})})]})})]}),i.jsxs("div",{className:"bg-gradient-to-b from-gray-100 to-green-50 py-16",children:[i.jsx(m.div,{className:"w-full h-0.5 bg-gray-300 mb-3",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:.8}}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs(m.div,{className:"text-center mb-12",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Upcoming Clean-Up Events"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Join these community events and help make our environment cleaner and greener"})]}),"          ",i.jsx(m.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4,staggerChildren:.1},children:p?[...Array(4)].map((c,L)=>i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-lg animate-pulse",children:[i.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},L)):d?i.jsxs("div",{className:"col-span-full text-center text-red-600",children:["Error loading events: ",(g==null?void 0:g.message)||"Something went wrong"]}):u==null?void 0:u.map(c=>i.jsx(ze,{title:c.title,date:new Date(c.date).toDateString(),location:c.location,EventImg:c.EventImg.length>0?c.EventImg:["./defulthu.jpg"],status:c.EventStatus,Peoples:c.participantCount},c._id))}),i.jsx(m.div,{className:"text-center mt-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.6},children:i.jsxs(H,{className:"bg-green-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg inline-flex items-center gap-2",to:"/events",children:["View All Events",i.jsx(He,{size:20})]})})]})]}),i.jsx("footer",{className:"bg-green-800 text-white py-12",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4",children:i.jsxs(m.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2,staggerChildren:.1},children:[i.jsxs(m.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5},children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"EcoClean"}),i.jsx("p",{className:"text-green-100",children:"Making our communities cleaner, one event at a time."})]}),i.jsxs(m.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5,delay:.1},children:[i.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-green-100 hover:text-white",children:"About Us"})}),i.jsx("li",{children:i.jsx(H,{to:"/events",className:"text-green-100 hover:text-white",children:"Events"})}),i.jsx("li",{children:i.jsx(H,{to:"/community",className:"text-green-100 hover:text-white",children:"Communities"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-green-100 hover:text-white",children:"Contact"})})]})]}),i.jsxs(m.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.5,delay:.2},children:[i.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Connect With Us"}),i.jsx("p",{className:"text-green-100 mb-4",children:"Join our newsletter to stay updated with the latest events."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",onChange:c=>r(c.target.value),value:n,placeholder:"Enter your email",name:"email",required:!0,className:"px-4 py-2 rounded-lg bg-green-700 text-white placeholder-green-200 flex-grow focus:outline-none"}),i.jsx(m.button,{className:"bg-green-600 px-4 py-2 rounded-lg hover:bg-green-500",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c=>x(),children:"Subscribe"})]})]})]})})})]})};export{yn as default};
