import{E as T,F,r,A as H,u as P,O as A,j as e,Q as E,T as I,L as y,D as R,I as D,U as B,V as J,b as U}from"./index-3_z3CT1Q.js";import{S as V}from"./share-2-CtywzFKk.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],q=T("FileText",_),Q=({title:n="Beach Cleanup Drive",date:j="Sat, Mar 15 â€¢ 9:00 AM",location:w="Biratnagar, Nepal",EventImg:a=["./bg.avif","./ktm.jpg"],status:d="pending",Peoples:N=24})=>{const[u,m]=r.useState(!1),[o,l]=r.useState(0),[p,g]=r.useState(!1),[k,C]=r.useState(N),[i,x]=r.useState(!1),[b,v]=r.useState(!1),[O,S]=r.useState(!1),f=H(t=>t.setAlert),c=n,M=r.useMemo(()=>a[o]||"/images/default-event.jpg",[o,a]),h=r.useMemo(()=>a[(o+1)%a.length],[o,a]);P();const z=A({mutationFn:async t=>{const{data:s}=await U.post("http://localhost:8000/event/joinEvent",{_id:t},{withCredentials:!0});return s},onSuccess:t=>{f({type:t.statusCode===200?"success":"error",message:t.message,title:t.statusCode===200?"Success":"Event Error"}),t.statusCode===200&&C(s=>isNaN(Number(s))?1:Number(s)+1)},onError:t=>{f({type:"error",message:"Error in joining event"})},onSettled:()=>{setTimeout(()=>x(!1),5e3)}}),$=t=>{i||(x(!0),z.mutate(t))};r.useEffect(()=>{if(!p||a.length<=1)return;const t=setInterval(()=>{l(s=>(s+1)%a.length)},4e3);return()=>clearInterval(t)},[p,a.length]),r.useEffect(()=>{if(h&&a.length>1){const t=new Image;t.onload=()=>S(!0),t.src=h}},[h,a.length]);const L=t=>{t.stopPropagation(),navigator.clipboard.writeText(`${window.location.origin}/events/${c}`).then(()=>{m(!0),setTimeout(()=>m(!1),2e3)})};return e.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-500 ease-out hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-2 cursor-pointer border border-gray-100",style:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"},children:[e.jsxs("div",{className:"relative h-52 overflow-hidden bg-gray-100",onMouseEnter:()=>g(!0),onMouseLeave:()=>{g(!1),l(0)},children:[!b&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200 animate-pulse",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})}),e.jsx("img",{draggable:"false",loading:"lazy",src:M||"/placeholder.svg?height=208&width=400",alt:n,className:`w-full h-full object-cover transition-all duration-700 ease-in-out group-hover:scale-105 ${b?"opacity-100":"opacity-0"}`,onLoad:()=>v(!0),onError:t=>{t.target.src="/images/default-event.jpg",v(!0)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:`absolute top-4 right-4 px-4 py-2 rounded-full text-sm font-semibold backdrop-blur-sm border transition-all duration-300 ${d==="completed"?"bg-blue-500/90 text-white border-blue-400/50 shadow-lg shadow-blue-500/20":"bg-emerald-500/90 text-white border-emerald-400/50 shadow-lg shadow-emerald-500/20"}`,children:d}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),l(s=>s===0?a.length-1:s-1)},className:"absolute left-3 top-1/2 -translate-y-1/2 p-2.5 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110 shadow-lg",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),l(s=>(s+1)%a.length)},className:"absolute right-3 top-1/2 -translate-y-1/2 p-2.5 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white transition-all duration-200 opacity-0 group-hover:opacity-100 hover:scale-110 shadow-lg",children:e.jsx(I,{size:18})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.map((t,s)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${s===o?"bg-white scale-125 shadow-lg":"bg-white/60"}`},s))})]})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsx(y,{to:`/events/${c}`,className:"block text-xl font-bold text-gray-900 transition-colors duration-200 hover:text-emerald-600 leading-tight tracking-tight",children:n}),e.jsxs("div",{className:"space-y-3 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-3 transition-colors duration-200 hover:text-gray-800",children:[e.jsx(R,{size:18,className:"flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:j})]}),e.jsxs("div",{className:"flex items-center gap-3 transition-colors duration-200 hover:text-gray-800",children:[e.jsx(D,{size:18,className:"flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:w})]}),e.jsxs("div",{className:"flex items-center gap-3 transition-colors duration-200 hover:text-gray-800",children:[e.jsx(B,{size:18,className:"flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:[e.jsx("span",{className:"text-gray-900 font-semibold",children:k})," volunteers joined"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[d==="completed"?e.jsxs(y,{to:`/eventreport/${c}`,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 flex items-center justify-center gap-2 font-semibold transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/25 hover:-translate-y-0.5",children:[e.jsx(q,{size:18}),e.jsx("span",{children:"View Report"})]}):e.jsx("button",{onClick:()=>$(n),disabled:i,className:`flex-1 bg-gradient-to-r from-emerald-600 to-emerald-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25 hover:-translate-y-0.5 ${i?"opacity-50 cursor-not-allowed hover:shadow-none hover:translate-y-0":"hover:from-emerald-700 hover:to-emerald-800"}`,children:i?"Joining...":"Join Event"}),e.jsx("button",{onClick:L,className:`px-4 py-3 border-2 rounded-xl font-semibold transition-all duration-200 hover:-translate-y-0.5 ${u?"border-emerald-500 bg-emerald-50 text-emerald-700 hover:bg-emerald-100":"border-gray-200 bg-white text-gray-700 hover:border-emerald-500 hover:text-emerald-600 hover:bg-emerald-50 hover:shadow-md"}`,children:u?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{size:18}),e.jsx("span",{children:"Copied!"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{size:18}),e.jsx("span",{children:"Share"})]})})]})]})]})},K=F.memo(Q);export{K as E};
